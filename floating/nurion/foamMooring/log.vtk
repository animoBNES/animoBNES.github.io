
로그아웃
마이페이지
ENGLISH
사용안내
사이트맵
. . . . . . . . . . . . . . . . . . . . .
국가슈퍼컴퓨팅센터

    소개

        소개
        국가슈퍼컴퓨팅센터
        소개 메뉴입니다.
            인사말
            슈퍼컴퓨터
            연혁
            임무/기능
            조직도/인력
            찾아오시는 길
    보유자원

        보유자원
        국가슈퍼컴퓨팅센터
        보유자원 메뉴입니다.
            소개
            누리온(NURION)
            뉴론(NEURON)
            소프트웨어
            퇴역장비
    자원신청

        자원신청
        R&D혁신지원 프로그램 및 유료사용에 대한
        공고 및 신청 메뉴입니다.
            자원신청 안내
            R&D 혁신지원 프로그램
                R&D 혁신지원 프로그램 안내
                R&D 혁신지원 프로그램 신청
            유료/초보자 사용
                유료/초보자 사용 안내
                요금안내
                요금계산기
                사용 신청서 작성
    기술지원

        기술지원
        기술지원(상담)과 최적병렬화
        신청 메뉴입니다.
            기술지원 안내
            기술지원(상담)
                상담 안내
                FAQ
                상담
            최적병렬화
                최적병렬화 안내
                최적병렬화 신청
            지침서
                활용 정보
                누리온 (NURION)
                뉴론 (NEURON)
    연구성과 및 통계

        연구성과 및 통계
        슈퍼컴퓨터를 사용한 연구자들의
        연구성과 및 통계에 대한 메뉴입니다.
            연구성과 및 통계
            연구성과
                대표성과
                주요성과
                전체성과
            통계
                시스템모니터링
                사용량
                혁신지원 자원제공
                혁신지원 논문실적
    알림 • 소식

        알림 • 소식
        공지사항, 행사, 자료
        메뉴입니다.
            알림 • 소식
            공지사항
                공지사항
                시스템 공지사항
                장애 공지사항
                정기점검 공지사항
            자료실
                자료실
                시스템 지침서
                소프트웨어 지침서
            지난 행사
                KSC 2019
                KSC 2020
                KSC 2021
                HPC ASIA 2021
            미디어
                인포그래픽
                홍보영상자료
                홍보인쇄자료

검색열기
기술지원

기술지원(상담)과 최적병렬화 신청 메뉴입니다.
HOME
상담
vtk 라이브러리 설치관련 질문
Q
Pilot [5호기] > 응용 S/W2018-08-07 16:33

- 질문내용 (Description)
   -

vtk 라이브러리 설치를 하려고 하는데, 이를 위해서 QT라이브러리와 gcc가 필요한 것으로 압니다.


gcc는 7.2.0 버전이 있는것을 알겠는데 QT 라이브러리가 존재하는지를 모르겠어서 질문드립니다.


현재 5호기에 QT라이브러리가 있나요? 혹시 있다면 QT 라이브러리 환경설정은 어떻게 해야하는지



알려주시면 감사하겠습니다.



그리고, gcc 환경설정방법이


'export PATH=/applic/Modules/compilers/gcc/7.2.0/bin:/applic/common/utils/bin:$PATH'


'export LD_LIBRARY_PATH=/applic/Modules/compilers/gcc/7.2.0/lib64:$LD_LIBRARY_PATH'



이렇게가 맞는지도 봐주시면 감사하겠습니다.



- 본인의 작업 현황 (Additional Info)
   @ 작업 관련 문의는 아래 항목에 대해 최대한 기입해주시기 바랍니다.@

+ 시스템 명(System name / ex) Tachyon2 or ,Sinbaram , ...)
    - 5호기

+ 작업디렉토리(Job directory / 작업제출스크립트 위치 및 파일명)
    - /home01/t279ljk/

+ 환경설정(Module setting / 모듈환경)
    - module load intel/18.0.1 mvapich2/2.3rc2

+ 소스디렉토리위치(Source directory)
    -

+ 소스 컴파일 방법 (Compile method)
    -


A
서성원 / 사용자지원팀2018-08-07 16:58

안녕하십니까
사용자지원팀 입니다.

필요로 하시는 QT 라이브러리의 경우 사용자분의 홈 디렉토리 또는 scratch 디렉토리에
직접 설치한 후 환경설정을 적용해주시기 바랍니다.

현재 module load를 이용하여 intel 컴파일러를 환경설정 하신걸로 보여집니다.
intel 컴파일러를 환경설정한 상황에서 gcc 컴파일러의 환경을 추가하여 설치하시는 것이 아니라면,
gcc 컴파일러 만을 module load 하여 사용해 주시는 것을 권해드립니다.
[예시]
$ module load gcc/7.2.0
$ gcc -v
gcc version 7.2.0 (GCC)
$ which gcc
/opt/gcc/7.2.0/bin/gcc

gcc 7.2.0 컴파일러의 라이브러리 경로는 "/opt/gcc/7.2.0/snos" 아래에 위치해 있습니다.

추가로 scratch 디렉토리의 경우 15일 이상 사용하지 않는 파일은 삭제되기 때문에
설치만 진행하시고 중요한 파일들은 home 디렉토리로 옮겨서 보관하시는 것을 권해드립니다.

감사합니다.

Q
Pilot [5호기] > 응용 S/W2018-08-07 17:05

intel 컴파일러를 환경설정한 상황에서 gcc 컴파일러를 추가로 하려합니다.



그렇게 된다면



export PATH=/opt/gcc/7.2.0/bin:/applic/common/utils/bin:$PATH


export LD_LIBRARY_PATH=/opt/gcc/7.2.0/snos:$LD_LIBRARY_PATH


이렇게가되나요?

A
서성원 / 사용자지원팀2018-08-07 17:19

안녕하십니까
사용자지원팀 입니다.

gcc 바이너리의 PATH의 경로는 /opt/gcc/7.2.0/bin 이며,
gcc 라이브러리의 경로는 /opt/gcc/7.2.0/snos/lib64 입니다.

/applic/common/utils/bin 경로는 타키온2 에서 사용하시던 경로로 보여집니다.
5호기 파일럿 시스템에서는 존재하지 않는 경로입니다.

cmake의 사용을 위하여 환경설정을 하시는 경우라면 아래의 경로를 추가해주시면 됩니다.
[참고]
$ which cmake
/usr/bin/cmake

아래를 예시를 참고하여 환경설정을 해주시는 것을 권해드립니다.
[예시]
$ export PATH=/opt/gcc/7.2.0/bin:$PATH
$ export LD_LIBRARY_PATH=/opt/gcc/7.2.0/snos/lib64

감사합니다.

Q
Pilot [5호기] > 응용 S/W2018-08-07 17:32

그리고 QT 라이브러리의 경우,http://webnautes.tistory.com/1120 를 참고하여



설치를 하려하였는데, sudo를 이용한 root 계정의 권한을 필요로 하는 부분이 있어서 어려움을



겪고 있습니다. 이 부분에 대해서는 어떻게 진행하여야 할까요?

A
서성원 / 사용자지원팀2018-08-07 17:53

안녕하십니까
사용자지원팀 입니다.

문의주신 웹사이트 확인 결과 sudo 권한을 이용하여 패키지를 설치하는 방법으로 보여집니다.
sudo 권한은 정책상 일반유저에게 주어지지 않습니다.

또한 apt-get 명령어는 Ubuntu 에서 설치를 진행하시는 방법이기 때문에 centOS 기반인
5호기 파일럿 시스템의 경우 사용이 불가능하며,
보안상의 이유로 외부인터넷 연결이 안되기 때문에 centOS 에서 apt-get과 비슷한 명령어인 yum 역시
사용이 불가능합니다.

5호기 파일럿 시스템에서 필요로 하시는 라이브러리를 설치하기 위해서는 소스파일을 다운받아
설치를 진행하셔야 합니다.

아래의 사이트를 qt 설치 부분을 '참고'하셔서 설치를 진행하시는 것을 권해드립니다.
설치를 진행하시는 os의 환경과 qt 라이브러리의 버전에 따라 조금 다를 수도 있음을 알려드립니다.
[참고 사이트]
http://saelly.tistory.com/567

감사합니다.

Q
Pilot [5호기] > 응용 S/W2018-08-07 19:44

답변에 올려주신 사이트를 참고하여,



QT라이브러리가 압축된 파일을 받아 압축을 풀고,



./configure --prefix=/home01/t279ljk/QT  를 입력하였는데,



Running configuration tests...
The test for linking against libxcb and support libraries failed!
You might need to install dependency packages, or pass -qt-xcb.
See src/plugins/platforms/xcb/README.



이러한 오류메세지가 나왔습니다.



알려주신 사이트의 맨 첫부분에 위치한 yum을 이용한 사전 설치가 안되어서 그런 것일까요?

A
서성원 / 사용자지원팀2018-08-08 08:53

안녕하십니까
사용자지원팀 입니다.

문의주신 오류에 대하여 확인 중에 있습니다.
확인 후 다시 답변드리도록 하겠습니다.

감사합니다.

A
서성원 / 사용자지원팀2018-08-08 13:23

안녕하십니까
사용자지원팀 입니다.

오류 메시지 확인 결과 아래와 같은 내용을 확인할 수 있습니다.
[참고]
You might need to install dependency packages, or pass -qt-xcb.

해당 메시지는 configure 시 xcb 라이브러리를 포함해야한다는 메시지로 "-qt-xcb" 옵션을
configure 시 추가하시면 설치가 진행됩니다.
[예시]
./configure --prefix=/home01/t279ljk/QT -qt-xcb

다만 설치 테스트 진행 중 5.3.1 버전에 오류가 발견되어 소스 코드의 수정 또는 패치가 필요한 것으로 보여집니다.
[설치 테스트_오류 내용 중 일부]
../3rdparty/javascriptcore/JavaScriptCore/wtf/TypeTraits.h:173:69: error: ‘std::tr1’ has not been declared
template struct HasTrivialConstructor : public std::tr1::has_trivial_constructor { };

특정 버전을 설치해야하는 것이 아니라면 최근 패치가 진행된 안정성 버전인 5.9.6 버전의 설치를 권해드립니다.
[다운로드 사이트]
https://download.qt.io/archive/qt/5.9/5.9.6/single/
위의 사이트에서 qt-everywhere-opensource-src-5.9.6.tar.xz 파일 다운로드

아래의 설치 테스트를 진행한 내용을 참고하시어 설치를 진행해주시기 바랍니다.
[참고]
$ module add intel/18.0.3 impi/18.0.3
$ export PATH=/opt/gcc/7.2.0/snos/bin:/usr/bin:$PATH
$ export LD_LIBRARY_PATH=/opt/gcc/7.2.0/snos/lib64:/usr/lib64:$LD_LIBRARY_PATH
$ xz -d qt-everywhere-opensource-src-5.9.6.tar.xz
$ tar xvf qt-everywhere-opensource-src-5.9.6.tar
$ ./configure --prefix=/scratch/optpar04/test/install/qt -disable-opengl
-------------------------------------------------------
Type 'c' if you want to use the Commercial Edition.
Type 'o' if you want to use the Open Source Edition.

Which edition of Qt do you want to use? o

Do you accept the terms of either license? yes
-------------------------------------------------------
$ gmake
$ gmake install

참고로 configure에 사용하는 -disable-opengl 옵션은 Opengl을 사용하지 않겠다는 옵션입니다.
해당 버전의 QT 라이브러리는 Opengl을 디폴트로 참조하기 때문에 Opengl을 사용하기를 원하시는 경우
Opengl을 설치하여 경로를 환경설정에 적용시켜 주셔야합니다.

추가로 prefix 옵션을 사용자께서 qt 라이브러리의 설치를 원하시는 위치를 지정하는 옵션입니다.
prefix 지정 시 소스파일이 있는 디렉토리와 다른 디렉토리에 설치를 진행하시는 것을 권해드립니다.

감사합니다.

Q
Pilot [5호기] > 응용 S/W2018-08-08 15:46

아직 gmake 중인 상태이긴한데, 설치 완료 후 QT 라이브러리를 사용하려면,



$export  PATH=/설치한폴더/bin:/usr/bin:$PATH

$export LD_LIBRARY=/설치한폴더/usr/lib64:$LD_LIBRARY_PATH



이렇게 환경설정을 해주면 되나요??

A
서성원 / 사용자지원팀2018-08-08 16:22

안녕하십니까
사용자지원팀 입니다.

보통 export PATH 를 이용하여 설정해주는 경로는 라이브러리의 실행파일이 위치한 bin 경로를 설정해주고,
LD_LIBRARY는 라이브러리의 lib 경로를 설정해 주시면 됩니다.

해당 경로들은 라이브러리의 종류와 버전에 따라 다르기 때문에 설치된 파일들을 확인하신 이후에 설정하시는 것이 정확합니다.

QT 라이브러리의 경우 아래의 경로를 참고해주시기 바랍니다.
[예시]
export PATH={qt 라이브러리 설치경로}/bin:$PATH
export LD_LIBRARY_PATH={qt 라이브러리 설치경로}/lib:$LD_LIBRARY_PATH

위의 예시는 gt 라이브러리의 경로를 환경설정 하는 방법이며, 그 외에 추가하고자 하는 경로를 같이 추가해주셔도 됩니다.

감사합니다.

Q
Pilot [5호기] > 응용 S/W2018-08-08 16:27

현재 /home01/t279ljk/QTlibrary 폴더에 설치하여서



export PATH=/home01/t279ljk/QTlibrary/bin:$PATH

export LD_LIBRARY_PATH=/home01/t279ljk/QTlibrary/lib:$LD_LIBRARY_PATH



이렇게 하는것이 맞나요?



A
서성원 / 사용자지원팀2018-08-08 16:36

안녕하십니까
사용자지원팀 입니다.

QT 라이브러리의 경로를 환경설정하시는 경우
문의주신 경로로 환경설정하시면 될 것으로 보여집니다.

감사합니다.

Q
Pilot [5호기] > 응용 S/W2018-08-08 17:09

거의 마지막 질문 일 것 같습니다.



지난 4호기에서 vtk 설치 할 때



$ cmake -DCMAKE_INSTALL_PREFIX:PATH=${HOME}/tachyon2/vtk \
-DQT_QMAKE_EXECUTABLE:PATH=/applic/wa/QT/4.7.3/bin/qmake \
-DVTK_Group_Qt:BOOL=ON -DVTK_Group_MPI:BOOL=ON \
-DBUILD_SHARED_LIBS:BOOL=ON ..
$ make -j 4
$ make install





이러한 설정을 가지고 설치를 하였는데,



현재 필요한 vtk 설치 파일은 /home01/t279ljk/vtk/VTK-8.1.0/ 에 있고,



cmake 할 폴더는 VTK-8.1.0 에 하위 폴더로 build 라는 폴더를 만든 상태입니다.



그렇다면





$ cmake -DCMAKE_INSTALL_PREFIX:PATH=/home01/t279ljk/vtk/VTK-8.1.0/build -DQT_QMAKE_EXECUTABLE:PATH=/home01/t279ljk/QTlibrary/bin/qmake -DVTK_Group_Qt:BOOL=ON -DVTK_Group_MPI:BOOL=ON -DBUILD_SHARED_LIBS:BOOL=ON ..

$ make -j 4

$ make install





이렇게 설치를 하고,



사용할 때는



$ export LD_LIBRARY_PATH=/home01/t279ljk/vtk/VTK-8.1.0/build/lib:$LD_LIBRARY_PATH



이렇게 사용하면 되는게 맞나요??

A
서성원 / 사용자지원팀2018-08-08 17:23

안녕하십니까
사용자지원팀 입니다.

라이브러리의 build 옵션의 경우 설치를 하시는 사용자께서 필요한 옵션과 설치를 진행하시는 버전에 따라 달라지게 됩니다.

사용자지원팀에서는 설치 과정에서 발생하는 오류에 대하여 도움을 드릴 수는 있지만
설치 옵션에 관해서는 답변을 드리지 못하는 점 양해바랍니다.

설치를 진행하시는 과정에서 오류가 발생하는 경우, 오류 내용과 설치 시 사용하신 환경설정,
설치를 진행한 위치 등을 자세히 적어 문의주시기 바랍니다.

감사합니다.

Q
Pilot [5호기] > 응용 S/W2018-08-08 18:16

CMake Error at /usr/share/cmake/Modules/FindPackageHandleStandardArgs.cmake:108 (message):
Could NOT find OpenGL (missing: OPENGL_gl_LIBRARY OPENGL_INCLUDE_DIR)
Call Stack (most recent call first):
/usr/share/cmake/Modules/FindPackageHandleStandardArgs.cmake:315 (_FPHSA_FAILURE_MESSAGE)
/usr/share/cmake/Modules/FindOpenGL.cmake:161 (FIND_PACKAGE_HANDLE_STANDARD_ARGS)
Rendering/OpenGL/CMakeLists.txt:199 (find_package)





vtk 설치를 하려 하니 이러한 오류가 나는데 이는 QT 설치에서 OpenGL을 설치 하지 않아서 발생한



문제인 것 같습니다. 혹시 vtk 설치 시 OpenGL을 무시하고 설치도 가능한가요?



그렇지 않다면 OpenGL을 따로 설치하여야 하는데,



https://www.khronos.org/opengl/wiki/Getting_Started#Downloading_OpenGL



여기서 intel 용으로 받고 설치를 진행하면 될까요?





설치를 진행한 위치는 /home01/t279ljk/vtk/VTK-6.3.0/build 이고



환경설정은



$ module load intel/18.0.1 mvapich2/2.3rc2
$ export PATH=/opt/gcc/7.2.0/snos/bin:/usr/bin:$PATH
$ export LD_LIBRARY_PATH=/opt/gcc/7.2.0/snos/lib64:/usr/lib64:$LD_LIBRARY_PATH
$ export PATH=/home01/t279ljk/QTlibrary/bin:$PATH
$ export LD_LIBRARY_PATH=/home01/t279ljk/QTlibrary/lib:$LD_LIBRARY_PATH



를 이용했습니다.



A
서성원 / 사용자지원팀2018-08-09 10:46

안녕하십니까
사용자지원팀 입니다.

문의주신 오류메시지는 VTK 6.3.0 버전의 설치에 필요한
OpenGL 라이브러리가 없어서 발생한 오류로 보여집니다.

설치를 진행하신 VTK 6.3.0 버전의 경우 OpenGL 라이브러리에 의존성을 가지지 않는 옵션이 없기 때문에
해당 버전을 설치하시기 위해서는 OpenGL의 설치가 필요할 것으로 보여집니다.
다만 VTK 7.1.1 버전에서는 OpenGL 라이브러리에 의존성을 가지지 않는 옵션이 있기 때문에
특정 버전의 설치가 필요한게 아니라면 7.1.1 버전의 설치를 권해드립니다.

VTK 7.1.1에서 CMAKE로 설치하는 옵션 중에서 OpenGL 라이브러리에 의존성을 가지지 않고 설치하는 옵션은
"-DVTK_RENDERING_BACKEND:STRING=None" 입니다.

아래의 내용을 참고하여 설치를 진행해주시는 것을 권해드립니다.
[참고]
$ module add intel/18.0.3 impi/18.0.3
$ export PATH=/opt/gcc/7.2.0/snos/bin:/usr/bin:/scratch/test/install/qt/bin:$PATH
$ export LD_LIBRARY_PATH=/opt/gcc/7.2.0/snos/lib64:/usr/lib64:/scratch/test/install/qt/lib:$LD_LIBRARY_PATH

$ tar -xzvf ~/source/VTK-7.1.1.tar.gz
$ cd VTK-7.1.1
$ mkdir build
$ cd build/
$ cmake -DCMAKE_INSTALL_PREFIX:PATH=/scratch/test/install/vtk \
-DQT_QMAKE_EXECUTABLE:PATH=/scratch/test/install/qt/bin \
-DVTK_Group_MPI:BOOL=ON -DVTK_RENDERING_BACKEND:STRING=None \
-DBUILD_SHARED_LIBS:BOOL=ON ..
$ make -j 4
$ make install

감사합니다.

Q
Pilot [5호기] > 응용 S/W2018-08-09 16:32

CMake Error at CMake/vtkModuleTop.cmake:353 (add_subdirectory):
add_subdirectory not given a binary directory but the given source
directory "/home01/t279ljk/vtk/VTK-7.1.1" is not a subdirectory of
"/home01/t279ljk/vtk/VTK-7.1.1". When specifying an out-of-tree source a
binary directory must be explicitly specified.
Call Stack (most recent call first):
CMake/vtkModuleTop.cmake:408 (_vtk_build_module)
CMakeLists.txt:526 (include)


CMake Error at /usr/share/cmake/Modules/FindQt4.cmake:1392 (message):
Found unsuitable Qt version "" from NOTFOUND, this code requires Qt 4.x
Call Stack (most recent call first):
GUISupport/Qt/CMakeLists.txt:82 (find_package)



위와 같은 오류가 발생하였는데,



밑의 오류는 Qt의 버전이 너무 높아서 아래의 버전을 사용해야 할 것 같은데



위의 오류는 무엇을 뜻하는지 잘 모르겠네요.. 위의 오류를 해결하려면 어떻게 해야하나요?

A
서성원 / 사용자지원팀2018-08-09 16:46

안녕하십니까
사용자지원팀 입니다.

작업을 수행하신 cmake의 옵션을 알 수 없어 정확한 답변이 어려운점 양해바랍니다.
VTK-7.1.1 버전은 테스트 결과 오류없이 정상적으로 설치되는 것을 확인하였습니다.

혹시 설치 경로를 "DCMAKE_INSTALL_PREFIX:PATH=/home01/t279ljk/vtk/VTK-7.1.1/build"
위와 같이 설정하셨다면 수정이 필요한 것으로 보여집니다.
DCMAKE_INSTALL_PREFIX 옵션은 사용자께서 VTK 라이브러리의 설치를 원하시는 위치를 지정하는 옵션입니다.
VTK-7.1.1/build 경로에는 설치에 필요한 makefile 등이 생성되기 때문에 다른 디렉토리를 지정해주시는 것을 권해드립니다.

추가로 설치 과정에서 오류가 발생하는 경우 해당 설치 옵션 등이 남아있을 수 있으므로
build 디렉토리 삭제 후 다시 만들어서 설치를 진행하시는 것을 권해드립니다.

동일한 오류가 발생하는 경우 설치에 사용하신 환경설정과 cmake 옵션 등을 자세히 적어 재문의해주시기 바랍니다.

감사합니다.

Q
Pilot [5호기] > 응용 S/W2018-08-09 17:06

말씀해주신 DCMAKE_INSTALL_PREFIX의 경로를 /home01/t279ljk/vtk/VTK-7.1.1/build 가 아닌


/home01/t279ljk/vtk , /home01/t279ljk/vtklibrary 등 바꿔보았으나 여전히 같은 오류가 발생하였습니다.


cmake의 옵션과 환경설정은 위에 적어주신 것과 동일하게 Qt의 경로와 라이브러리 설치 경로만 다르게


하였습니다.


그리고 혹시 vtk-7.1.1 설치하실 때 Qt 버전이 어떻게 되시나요? Qt 5.9.6 버전의 문제인지


CMake Error at /usr/share/cmake/Modules/FindQt4.cmake:1392 (message):
Found unsuitable Qt version "" from NOTFOUND, this code requires Qt 4.x
Call Stack (most recent call first):



Qt 4.xx 버전이 필요하다는 오류도 계속 발생하네요.

A
서성원 / 사용자지원팀2018-08-09 17:30

안녕하십니까
사용자지원팀 입니다.

유선으로 설명드린 것처럼 테스트에 사용한 Qt 라이브러리의 버전은 사용하신 것과 동인한 5.9.6 버전입니다.
"/home01/t279ljk/install/vtk" 경로에 설치를 진행해 놓았습니다.

홈 디렉토리에 build.txt 라는 파일을 만들어 설치과정을 기록하였으니 확인해보시면 될것 같습니다.

감사합니다.

Q
Pilot [5호기] > 응용 S/W2018-08-09 17:36

이렇게 된다면 최종적으로 LIGGGHTS 설치 후 환경설정은



$ module add intel/18.0.3 impi/18.0.3
$ export PATH=/opt/gcc/7.2.0/snos/bin:/usr/bin:/home01/t279ljk/QTlibrary/bin:$PATH
$ export LD_LIBRARY_PATH=/opt/gcc/7.2.0/snos/lib64:/usr/lib64:/home01/t279ljk/QTlibrary/lib:$LD_LIBRARY_PATH

$ export LD_LIBRARY_PATH=/home01/t279ljk/install/vtk/lib:$LD_LIBRARY_PATH



이렇게까지하면 되나요?

A
서성원 / 사용자지원팀2018-08-09 17:47

안녕하십니까
사용자지원팀 입니다.

환경설정의 경우 라이브러리의 종류와 버전, 사용하시는 시스템에 따라 달라지게 됩니다.
LIGGGHTS 실행 시 해당 라이브러리가 설치에 필요했던 의존성 라이브러리들을 찾는 경우 아래와 같이 환경설정이 필요한 것으로 보여집니다.
[예시]
$ module add intel/18.0.3 impi/18.0.3
$ export PATH=/opt/gcc/7.2.0/snos/bin:/usr/bin:/home01/t279ljk/QTlibrary/bin:/home01/t279ljk/install/vtk/bin:$PATH
$ export LD_LIBRARY_PATH=/opt/gcc/7.2.0/snos/lib64:/usr/lib64:/home01/t279ljk/QTlibrary/lib:/home01/t279ljk/install/vtk/lib:$LD_LIBRARY_PATH

다만 위의 환경설정들은 설치에 사용된 환경설정이므로 LIGGGHTS 라이브러리 실행에 필요한 환경설정은 다를수도 있음을 알려드립니다.

감사합니다.

Q
Pilot [5호기] > 응용 S/W2018-08-09 18:14

거의 마지막 질문일 것 같습니다.



이제 LIGGGHTS 설치에 필요한 것을 다 완료하였는데,



LIGGGHTS의 설치를 위해 이전 4호기의 문서를 보면



LIGGGHTS의 src/MAKE/Makefile.mpi 에서



CCFLAGS = -O3 -fno-alias -restrict -ip -unroll0 -shared-intel

LINKFLAGS = -O -L/applic/compilers/intel/2015/mkl/lib/intel64

LIB = -lstdc++ -lpthread -lmkl_sequential -lmkl_intel_lp64 -lmkl_core

MPI_INC = -I/applic/compilers/intel/2015/mpi/mvapich2/2.1/include -DMPICH_SKIP_MPICXX -DOMPI_SKIP_MPICXX=1

MPI_LIB = -L/applic/compilers/intel/2015/mpi/mvapich2/2.1/lib

FFT_INC = -DFFT_MKL -I/applic/compilers/intel/2015/mkl/include/fftw

FFT_LIB = /applic/compilers/intel/2015/mkl/lib/intel64/libfftw2xc_double_intel.a



이것을 5호기의 설정대로 바꾸어야 할 것 같은데,



어떻게 바꾸어야 할지 잘 모르겠습니다.



VTK 에 관한건 위의 설치 경로대로 바꾸었으나, 나머지는 어디에 위치하는지 찾기가 어렵네요.



가르쳐 주시면 감사하겠습니다.



A
서성원 / 사용자지원팀2018-08-10 09:42

안녕하십니까
사용자지원팀 입니다.

라이브러리의 설치에 필요한 옵션은 라이브러리의 종류와 버전, 사용하시는 시스템에 따라 달라지기 때문에
사용자께서 설치를 진행 하시면서 찾으셔야 함을 양해바랍니다.

설치에 필요한 경로는 아래를 참고해주시기 바랍니다.
mkl 라이브러리 경로 : /cm/shared/apps/intel/compilers_and_libraries/2018.3.222/linux/mkl/lib/intel64
MPI 헤더파일 경로 : /cm/shared/apps/intel/compilers_and_libraries/2018.3.222/linux/mpi/include64
MPI 라이브러리 경로 : /cm/shared/apps/intel/compilers_and_libraries/2018.3.222/linux/mpi/lib64
FFT 헤더파일 경로 : /applic/compilers/mic-knl/intel/18.0.3/mpi/impi/18.0.3/applib2/fftw/3.3.7/include
FFT 라이브러리 경로 : /applic/compilers/mic-knl/intel/18.0.3/mpi/impi/18.0.3/applib2/fftw/3.3.8/lib

감사합니다.

Q
Pilot [5호기] > 응용 S/W2018-08-13 13:36

CCFLAGS =       -O3 -fno-alias -restrict -ip -unroll0 -shared-intel



LINKFLAGS =     -O -L/cm/shared/apps/intel/compilers_and_libraries/2018.3.222/linux/mkl/lib/intel64



LIB =           -lstdc++ -lpthread -lmkl_sequential -lmkl_intel_lp64 -lmkl_core



MPI_INC = -I/cm/shared/apps/intel/compilers_and_libraries/2018.3.222/linux/mpi/include64 -DMPICH_SKIP_MPICXX -DOMPI_SKIP_MPICXX=1
MPI_PATH =
MPI_LIB = -L/cm/shared/apps/intel/compilers_and_libraries/2018.3.222/linux/mpi/lib64



FFT_INC = -DFFT_MKL -I/applic/compilers/mic-knl/intel/18.0.3/mpi/impi/18.0.3/applib2/fftw/3.3.7/include
FFT_PATH =
FFT_LIB = -L/applic/compilers/mic-knl/intel/18.0.3/mpi/impi/18.0.3/applib2/fftw/3.3.7/lib



현재 이렇게 수정해서 make mpi 를 한 결과



맨위의 CCFLAGS가 잘못되어서 에러가 발생하네요.



g++: error: unrecognized command line option ??-fno-alias??
g++: error: unrecognized command line option ??-restrict??
g++: error: unrecognized command line option ??-ip??
g++: error: unrecognized command line option ??-shared-intel??



어떻게 고쳐야 할까요?

A
서성원 / 사용자지원팀2018-08-13 15:08

안녕하십니까
사용자지원팀 입니다.

CCFLAGS에 설정한 옵션이 현재 사용하시는 시스템, 환경설정과 맞지 않아 발생한 오류로 보여집니다.
오류가 발생한 옵션을 제거하신 이후 다시 작업을 수행해보시는 것을 권해드립니다.
[예시]
CCFLAGS = -O3 -unroll0

작업 수행전 make clean-all 명령어를 이용하여 오류가 발생한 설정을 초기화 해주신 이후 다시 make mpi 명령어를 수행하셔야 합니다.

감사합니다.

Q
Pilot [5호기] > 응용 S/W2018-08-13 15:44

네, 환경설정을 다시 제대로 한 후 해보니 바꾸어야 할 항목들이 나와서 바꿔서



제대로 설치 완료하였습니다.



감사합니다.

A
서성원 / 사용자지원팀2018-08-13 15:46

안녕하십니까
사용자지원팀 입니다.

make가 정상적으로 끝났다고 하셔서 문의를 완료처리 하도록 하겠습니다.

감사합니다.

국가슈퍼컴퓨팅센터
개인정보처리방침 이메일무단수집거부 찾아오시는길 모바일버전으로 보기
(34141) 대전광역시 유성구 대학로 245 한국과학기술정보연구원
Contact: account@ksc.re.kr    슈퍼컴퓨터 사용문의 : 080-041-1991

Copyright 2020 by the KISTI National Supercomputing Center. All Rights Reserved.
과학기술정보통신부 국가과학기술연구회 한국과학기술정보연구원






로그아웃
마이페이지
ENGLISH
사용안내
사이트맵
. . . . . . . . . . . . . . . . . . . . .
국가슈퍼컴퓨팅센터

    소개

        소개
        국가슈퍼컴퓨팅센터
        소개 메뉴입니다.
            인사말
            슈퍼컴퓨터
            연혁
            임무/기능
            조직도/인력
            찾아오시는 길
    보유자원

        보유자원
        국가슈퍼컴퓨팅센터
        보유자원 메뉴입니다.
            소개
            누리온(NURION)
            뉴론(NEURON)
            소프트웨어
            퇴역장비
    자원신청

        자원신청
        R&D혁신지원 프로그램 및 유료사용에 대한
        공고 및 신청 메뉴입니다.
            자원신청 안내
            R&D 혁신지원 프로그램
                R&D 혁신지원 프로그램 안내
                R&D 혁신지원 프로그램 신청
            유료/초보자 사용
                유료/초보자 사용 안내
                요금안내
                요금계산기
                사용 신청서 작성
    기술지원

        기술지원
        기술지원(상담)과 최적병렬화
        신청 메뉴입니다.
            기술지원 안내
            기술지원(상담)
                상담 안내
                FAQ
                상담
            최적병렬화
                최적병렬화 안내
                최적병렬화 신청
            지침서
                활용 정보
                누리온 (NURION)
                뉴론 (NEURON)
    연구성과 및 통계

        연구성과 및 통계
        슈퍼컴퓨터를 사용한 연구자들의
        연구성과 및 통계에 대한 메뉴입니다.
            연구성과 및 통계
            연구성과
                대표성과
                주요성과
                전체성과
            통계
                시스템모니터링
                사용량
                혁신지원 자원제공
                혁신지원 논문실적
    알림 • 소식

        알림 • 소식
        공지사항, 행사, 자료
        메뉴입니다.
            알림 • 소식
            공지사항
                공지사항
                시스템 공지사항
                장애 공지사항
                정기점검 공지사항
            자료실
                자료실
                시스템 지침서
                소프트웨어 지침서
            지난 행사
                KSC 2019
                KSC 2020
                KSC 2021
                HPC ASIA 2021
            미디어
                인포그래픽
                홍보영상자료
                홍보인쇄자료

검색열기
기술지원

기술지원(상담)과 최적병렬화 신청 메뉴입니다.
HOME
상담
vtk 라이브러리 설치관련 질문
Q
Pilot [5호기] > 응용 S/W2018-08-07 16:33

- 질문내용 (Description)
   -

vtk 라이브러리 설치를 하려고 하는데, 이를 위해서 QT라이브러리와 gcc가 필요한 것으로 압니다.


gcc는 7.2.0 버전이 있는것을 알겠는데 QT 라이브러리가 존재하는지를 모르겠어서 질문드립니다.


현재 5호기에 QT라이브러리가 있나요? 혹시 있다면 QT 라이브러리 환경설정은 어떻게 해야하는지



알려주시면 감사하겠습니다.



그리고, gcc 환경설정방법이


'export PATH=/applic/Modules/compilers/gcc/7.2.0/bin:/applic/common/utils/bin:$PATH'


'export LD_LIBRARY_PATH=/applic/Modules/compilers/gcc/7.2.0/lib64:$LD_LIBRARY_PATH'



이렇게가 맞는지도 봐주시면 감사하겠습니다.



- 본인의 작업 현황 (Additional Info)
   @ 작업 관련 문의는 아래 항목에 대해 최대한 기입해주시기 바랍니다.@

+ 시스템 명(System name / ex) Tachyon2 or ,Sinbaram , ...)
    - 5호기

+ 작업디렉토리(Job directory / 작업제출스크립트 위치 및 파일명)
    - /home01/t279ljk/

+ 환경설정(Module setting / 모듈환경)
    - module load intel/18.0.1 mvapich2/2.3rc2

+ 소스디렉토리위치(Source directory)
    -

+ 소스 컴파일 방법 (Compile method)
    -


A
서성원 / 사용자지원팀2018-08-07 16:58

안녕하십니까
사용자지원팀 입니다.

필요로 하시는 QT 라이브러리의 경우 사용자분의 홈 디렉토리 또는 scratch 디렉토리에
직접 설치한 후 환경설정을 적용해주시기 바랍니다.

현재 module load를 이용하여 intel 컴파일러를 환경설정 하신걸로 보여집니다.
intel 컴파일러를 환경설정한 상황에서 gcc 컴파일러의 환경을 추가하여 설치하시는 것이 아니라면,
gcc 컴파일러 만을 module load 하여 사용해 주시는 것을 권해드립니다.
[예시]
$ module load gcc/7.2.0
$ gcc -v
gcc version 7.2.0 (GCC)
$ which gcc
/opt/gcc/7.2.0/bin/gcc

gcc 7.2.0 컴파일러의 라이브러리 경로는 "/opt/gcc/7.2.0/snos" 아래에 위치해 있습니다.

추가로 scratch 디렉토리의 경우 15일 이상 사용하지 않는 파일은 삭제되기 때문에
설치만 진행하시고 중요한 파일들은 home 디렉토리로 옮겨서 보관하시는 것을 권해드립니다.

감사합니다.

Q
Pilot [5호기] > 응용 S/W2018-08-07 17:05

intel 컴파일러를 환경설정한 상황에서 gcc 컴파일러를 추가로 하려합니다.



그렇게 된다면



export PATH=/opt/gcc/7.2.0/bin:/applic/common/utils/bin:$PATH


export LD_LIBRARY_PATH=/opt/gcc/7.2.0/snos:$LD_LIBRARY_PATH


이렇게가되나요?

A
서성원 / 사용자지원팀2018-08-07 17:19

안녕하십니까
사용자지원팀 입니다.

gcc 바이너리의 PATH의 경로는 /opt/gcc/7.2.0/bin 이며,
gcc 라이브러리의 경로는 /opt/gcc/7.2.0/snos/lib64 입니다.

/applic/common/utils/bin 경로는 타키온2 에서 사용하시던 경로로 보여집니다.
5호기 파일럿 시스템에서는 존재하지 않는 경로입니다.

cmake의 사용을 위하여 환경설정을 하시는 경우라면 아래의 경로를 추가해주시면 됩니다.
[참고]
$ which cmake
/usr/bin/cmake

아래를 예시를 참고하여 환경설정을 해주시는 것을 권해드립니다.
[예시]
$ export PATH=/opt/gcc/7.2.0/bin:$PATH
$ export LD_LIBRARY_PATH=/opt/gcc/7.2.0/snos/lib64

감사합니다.

Q
Pilot [5호기] > 응용 S/W2018-08-07 17:32

그리고 QT 라이브러리의 경우,http://webnautes.tistory.com/1120 를 참고하여



설치를 하려하였는데, sudo를 이용한 root 계정의 권한을 필요로 하는 부분이 있어서 어려움을



겪고 있습니다. 이 부분에 대해서는 어떻게 진행하여야 할까요?

A
서성원 / 사용자지원팀2018-08-07 17:53

안녕하십니까
사용자지원팀 입니다.

문의주신 웹사이트 확인 결과 sudo 권한을 이용하여 패키지를 설치하는 방법으로 보여집니다.
sudo 권한은 정책상 일반유저에게 주어지지 않습니다.

또한 apt-get 명령어는 Ubuntu 에서 설치를 진행하시는 방법이기 때문에 centOS 기반인
5호기 파일럿 시스템의 경우 사용이 불가능하며,
보안상의 이유로 외부인터넷 연결이 안되기 때문에 centOS 에서 apt-get과 비슷한 명령어인 yum 역시
사용이 불가능합니다.

5호기 파일럿 시스템에서 필요로 하시는 라이브러리를 설치하기 위해서는 소스파일을 다운받아
설치를 진행하셔야 합니다.

아래의 사이트를 qt 설치 부분을 '참고'하셔서 설치를 진행하시는 것을 권해드립니다.
설치를 진행하시는 os의 환경과 qt 라이브러리의 버전에 따라 조금 다를 수도 있음을 알려드립니다.
[참고 사이트]
http://saelly.tistory.com/567

감사합니다.

Q
Pilot [5호기] > 응용 S/W2018-08-07 19:44

답변에 올려주신 사이트를 참고하여,



QT라이브러리가 압축된 파일을 받아 압축을 풀고,



./configure --prefix=/home01/t279ljk/QT  를 입력하였는데,



Running configuration tests...
The test for linking against libxcb and support libraries failed!
You might need to install dependency packages, or pass -qt-xcb.
See src/plugins/platforms/xcb/README.



이러한 오류메세지가 나왔습니다.



알려주신 사이트의 맨 첫부분에 위치한 yum을 이용한 사전 설치가 안되어서 그런 것일까요?

A
서성원 / 사용자지원팀2018-08-08 08:53

안녕하십니까
사용자지원팀 입니다.

문의주신 오류에 대하여 확인 중에 있습니다.
확인 후 다시 답변드리도록 하겠습니다.

감사합니다.

A
서성원 / 사용자지원팀2018-08-08 13:23

안녕하십니까
사용자지원팀 입니다.

오류 메시지 확인 결과 아래와 같은 내용을 확인할 수 있습니다.
[참고]
You might need to install dependency packages, or pass -qt-xcb.

해당 메시지는 configure 시 xcb 라이브러리를 포함해야한다는 메시지로 "-qt-xcb" 옵션을
configure 시 추가하시면 설치가 진행됩니다.
[예시]
./configure --prefix=/home01/t279ljk/QT -qt-xcb

다만 설치 테스트 진행 중 5.3.1 버전에 오류가 발견되어 소스 코드의 수정 또는 패치가 필요한 것으로 보여집니다.
[설치 테스트_오류 내용 중 일부]
../3rdparty/javascriptcore/JavaScriptCore/wtf/TypeTraits.h:173:69: error: ‘std::tr1’ has not been declared
template struct HasTrivialConstructor : public std::tr1::has_trivial_constructor { };

특정 버전을 설치해야하는 것이 아니라면 최근 패치가 진행된 안정성 버전인 5.9.6 버전의 설치를 권해드립니다.
[다운로드 사이트]
https://download.qt.io/archive/qt/5.9/5.9.6/single/
위의 사이트에서 qt-everywhere-opensource-src-5.9.6.tar.xz 파일 다운로드

아래의 설치 테스트를 진행한 내용을 참고하시어 설치를 진행해주시기 바랍니다.
[참고]
$ module add intel/18.0.3 impi/18.0.3
$ export PATH=/opt/gcc/7.2.0/snos/bin:/usr/bin:$PATH
$ export LD_LIBRARY_PATH=/opt/gcc/7.2.0/snos/lib64:/usr/lib64:$LD_LIBRARY_PATH
$ xz -d qt-everywhere-opensource-src-5.9.6.tar.xz
$ tar xvf qt-everywhere-opensource-src-5.9.6.tar
$ ./configure --prefix=/scratch/optpar04/test/install/qt -disable-opengl
-------------------------------------------------------
Type 'c' if you want to use the Commercial Edition.
Type 'o' if you want to use the Open Source Edition.

Which edition of Qt do you want to use? o

Do you accept the terms of either license? yes
-------------------------------------------------------
$ gmake
$ gmake install

참고로 configure에 사용하는 -disable-opengl 옵션은 Opengl을 사용하지 않겠다는 옵션입니다.
해당 버전의 QT 라이브러리는 Opengl을 디폴트로 참조하기 때문에 Opengl을 사용하기를 원하시는 경우
Opengl을 설치하여 경로를 환경설정에 적용시켜 주셔야합니다.

추가로 prefix 옵션을 사용자께서 qt 라이브러리의 설치를 원하시는 위치를 지정하는 옵션입니다.
prefix 지정 시 소스파일이 있는 디렉토리와 다른 디렉토리에 설치를 진행하시는 것을 권해드립니다.

감사합니다.

Q
Pilot [5호기] > 응용 S/W2018-08-08 15:46

아직 gmake 중인 상태이긴한데, 설치 완료 후 QT 라이브러리를 사용하려면,



$export  PATH=/설치한폴더/bin:/usr/bin:$PATH

$export LD_LIBRARY=/설치한폴더/usr/lib64:$LD_LIBRARY_PATH



이렇게 환경설정을 해주면 되나요??

A
서성원 / 사용자지원팀2018-08-08 16:22

안녕하십니까
사용자지원팀 입니다.

보통 export PATH 를 이용하여 설정해주는 경로는 라이브러리의 실행파일이 위치한 bin 경로를 설정해주고,
LD_LIBRARY는 라이브러리의 lib 경로를 설정해 주시면 됩니다.

해당 경로들은 라이브러리의 종류와 버전에 따라 다르기 때문에 설치된 파일들을 확인하신 이후에 설정하시는 것이 정확합니다.

QT 라이브러리의 경우 아래의 경로를 참고해주시기 바랍니다.
[예시]
export PATH={qt 라이브러리 설치경로}/bin:$PATH
export LD_LIBRARY_PATH={qt 라이브러리 설치경로}/lib:$LD_LIBRARY_PATH

위의 예시는 gt 라이브러리의 경로를 환경설정 하는 방법이며, 그 외에 추가하고자 하는 경로를 같이 추가해주셔도 됩니다.

감사합니다.

Q
Pilot [5호기] > 응용 S/W2018-08-08 16:27

현재 /home01/t279ljk/QTlibrary 폴더에 설치하여서



export PATH=/home01/t279ljk/QTlibrary/bin:$PATH

export LD_LIBRARY_PATH=/home01/t279ljk/QTlibrary/lib:$LD_LIBRARY_PATH



이렇게 하는것이 맞나요?



A
서성원 / 사용자지원팀2018-08-08 16:36

안녕하십니까
사용자지원팀 입니다.

QT 라이브러리의 경로를 환경설정하시는 경우
문의주신 경로로 환경설정하시면 될 것으로 보여집니다.

감사합니다.

Q
Pilot [5호기] > 응용 S/W2018-08-08 17:09

거의 마지막 질문 일 것 같습니다.



지난 4호기에서 vtk 설치 할 때



$ cmake -DCMAKE_INSTALL_PREFIX:PATH=${HOME}/tachyon2/vtk \
-DQT_QMAKE_EXECUTABLE:PATH=/applic/wa/QT/4.7.3/bin/qmake \
-DVTK_Group_Qt:BOOL=ON -DVTK_Group_MPI:BOOL=ON \
-DBUILD_SHARED_LIBS:BOOL=ON ..
$ make -j 4
$ make install





이러한 설정을 가지고 설치를 하였는데,



현재 필요한 vtk 설치 파일은 /home01/t279ljk/vtk/VTK-8.1.0/ 에 있고,



cmake 할 폴더는 VTK-8.1.0 에 하위 폴더로 build 라는 폴더를 만든 상태입니다.



그렇다면





$ cmake -DCMAKE_INSTALL_PREFIX:PATH=/home01/t279ljk/vtk/VTK-8.1.0/build -DQT_QMAKE_EXECUTABLE:PATH=/home01/t279ljk/QTlibrary/bin/qmake -DVTK_Group_Qt:BOOL=ON -DVTK_Group_MPI:BOOL=ON -DBUILD_SHARED_LIBS:BOOL=ON ..

$ make -j 4

$ make install





이렇게 설치를 하고,



사용할 때는



$ export LD_LIBRARY_PATH=/home01/t279ljk/vtk/VTK-8.1.0/build/lib:$LD_LIBRARY_PATH



이렇게 사용하면 되는게 맞나요??

A
서성원 / 사용자지원팀2018-08-08 17:23

안녕하십니까
사용자지원팀 입니다.

라이브러리의 build 옵션의 경우 설치를 하시는 사용자께서 필요한 옵션과 설치를 진행하시는 버전에 따라 달라지게 됩니다.

사용자지원팀에서는 설치 과정에서 발생하는 오류에 대하여 도움을 드릴 수는 있지만
설치 옵션에 관해서는 답변을 드리지 못하는 점 양해바랍니다.

설치를 진행하시는 과정에서 오류가 발생하는 경우, 오류 내용과 설치 시 사용하신 환경설정,
설치를 진행한 위치 등을 자세히 적어 문의주시기 바랍니다.

감사합니다.

Q
Pilot [5호기] > 응용 S/W2018-08-08 18:16

CMake Error at /usr/share/cmake/Modules/FindPackageHandleStandardArgs.cmake:108 (message):
Could NOT find OpenGL (missing: OPENGL_gl_LIBRARY OPENGL_INCLUDE_DIR)
Call Stack (most recent call first):
/usr/share/cmake/Modules/FindPackageHandleStandardArgs.cmake:315 (_FPHSA_FAILURE_MESSAGE)
/usr/share/cmake/Modules/FindOpenGL.cmake:161 (FIND_PACKAGE_HANDLE_STANDARD_ARGS)
Rendering/OpenGL/CMakeLists.txt:199 (find_package)





vtk 설치를 하려 하니 이러한 오류가 나는데 이는 QT 설치에서 OpenGL을 설치 하지 않아서 발생한



문제인 것 같습니다. 혹시 vtk 설치 시 OpenGL을 무시하고 설치도 가능한가요?



그렇지 않다면 OpenGL을 따로 설치하여야 하는데,



https://www.khronos.org/opengl/wiki/Getting_Started#Downloading_OpenGL



여기서 intel 용으로 받고 설치를 진행하면 될까요?





설치를 진행한 위치는 /home01/t279ljk/vtk/VTK-6.3.0/build 이고



환경설정은



$ module load intel/18.0.1 mvapich2/2.3rc2
$ export PATH=/opt/gcc/7.2.0/snos/bin:/usr/bin:$PATH
$ export LD_LIBRARY_PATH=/opt/gcc/7.2.0/snos/lib64:/usr/lib64:$LD_LIBRARY_PATH
$ export PATH=/home01/t279ljk/QTlibrary/bin:$PATH
$ export LD_LIBRARY_PATH=/home01/t279ljk/QTlibrary/lib:$LD_LIBRARY_PATH



를 이용했습니다.



A
서성원 / 사용자지원팀2018-08-09 10:46

안녕하십니까
사용자지원팀 입니다.

문의주신 오류메시지는 VTK 6.3.0 버전의 설치에 필요한
OpenGL 라이브러리가 없어서 발생한 오류로 보여집니다.

설치를 진행하신 VTK 6.3.0 버전의 경우 OpenGL 라이브러리에 의존성을 가지지 않는 옵션이 없기 때문에
해당 버전을 설치하시기 위해서는 OpenGL의 설치가 필요할 것으로 보여집니다.
다만 VTK 7.1.1 버전에서는 OpenGL 라이브러리에 의존성을 가지지 않는 옵션이 있기 때문에
특정 버전의 설치가 필요한게 아니라면 7.1.1 버전의 설치를 권해드립니다.

VTK 7.1.1에서 CMAKE로 설치하는 옵션 중에서 OpenGL 라이브러리에 의존성을 가지지 않고 설치하는 옵션은
"-DVTK_RENDERING_BACKEND:STRING=None" 입니다.

아래의 내용을 참고하여 설치를 진행해주시는 것을 권해드립니다.
[참고]
$ module add intel/18.0.3 impi/18.0.3
$ export PATH=/opt/gcc/7.2.0/snos/bin:/usr/bin:/scratch/test/install/qt/bin:$PATH
$ export LD_LIBRARY_PATH=/opt/gcc/7.2.0/snos/lib64:/usr/lib64:/scratch/test/install/qt/lib:$LD_LIBRARY_PATH

$ tar -xzvf ~/source/VTK-7.1.1.tar.gz
$ cd VTK-7.1.1
$ mkdir build
$ cd build/
$ cmake -DCMAKE_INSTALL_PREFIX:PATH=/scratch/test/install/vtk \
-DQT_QMAKE_EXECUTABLE:PATH=/scratch/test/install/qt/bin \
-DVTK_Group_MPI:BOOL=ON -DVTK_RENDERING_BACKEND:STRING=None \
-DBUILD_SHARED_LIBS:BOOL=ON ..
$ make -j 4
$ make install

감사합니다.

Q
Pilot [5호기] > 응용 S/W2018-08-09 16:32

CMake Error at CMake/vtkModuleTop.cmake:353 (add_subdirectory):
add_subdirectory not given a binary directory but the given source
directory "/home01/t279ljk/vtk/VTK-7.1.1" is not a subdirectory of
"/home01/t279ljk/vtk/VTK-7.1.1". When specifying an out-of-tree source a
binary directory must be explicitly specified.
Call Stack (most recent call first):
CMake/vtkModuleTop.cmake:408 (_vtk_build_module)
CMakeLists.txt:526 (include)


CMake Error at /usr/share/cmake/Modules/FindQt4.cmake:1392 (message):
Found unsuitable Qt version "" from NOTFOUND, this code requires Qt 4.x
Call Stack (most recent call first):
GUISupport/Qt/CMakeLists.txt:82 (find_package)



위와 같은 오류가 발생하였는데,



밑의 오류는 Qt의 버전이 너무 높아서 아래의 버전을 사용해야 할 것 같은데



위의 오류는 무엇을 뜻하는지 잘 모르겠네요.. 위의 오류를 해결하려면 어떻게 해야하나요?

A
서성원 / 사용자지원팀2018-08-09 16:46

안녕하십니까
사용자지원팀 입니다.

작업을 수행하신 cmake의 옵션을 알 수 없어 정확한 답변이 어려운점 양해바랍니다.
VTK-7.1.1 버전은 테스트 결과 오류없이 정상적으로 설치되는 것을 확인하였습니다.

혹시 설치 경로를 "DCMAKE_INSTALL_PREFIX:PATH=/home01/t279ljk/vtk/VTK-7.1.1/build"
위와 같이 설정하셨다면 수정이 필요한 것으로 보여집니다.
DCMAKE_INSTALL_PREFIX 옵션은 사용자께서 VTK 라이브러리의 설치를 원하시는 위치를 지정하는 옵션입니다.
VTK-7.1.1/build 경로에는 설치에 필요한 makefile 등이 생성되기 때문에 다른 디렉토리를 지정해주시는 것을 권해드립니다.

추가로 설치 과정에서 오류가 발생하는 경우 해당 설치 옵션 등이 남아있을 수 있으므로
build 디렉토리 삭제 후 다시 만들어서 설치를 진행하시는 것을 권해드립니다.

동일한 오류가 발생하는 경우 설치에 사용하신 환경설정과 cmake 옵션 등을 자세히 적어 재문의해주시기 바랍니다.

감사합니다.

Q
Pilot [5호기] > 응용 S/W2018-08-09 17:06

말씀해주신 DCMAKE_INSTALL_PREFIX의 경로를 /home01/t279ljk/vtk/VTK-7.1.1/build 가 아닌


/home01/t279ljk/vtk , /home01/t279ljk/vtklibrary 등 바꿔보았으나 여전히 같은 오류가 발생하였습니다.


cmake의 옵션과 환경설정은 위에 적어주신 것과 동일하게 Qt의 경로와 라이브러리 설치 경로만 다르게


하였습니다.


그리고 혹시 vtk-7.1.1 설치하실 때 Qt 버전이 어떻게 되시나요? Qt 5.9.6 버전의 문제인지


CMake Error at /usr/share/cmake/Modules/FindQt4.cmake:1392 (message):
Found unsuitable Qt version "" from NOTFOUND, this code requires Qt 4.x
Call Stack (most recent call first):



Qt 4.xx 버전이 필요하다는 오류도 계속 발생하네요.

A
서성원 / 사용자지원팀2018-08-09 17:30

안녕하십니까
사용자지원팀 입니다.

유선으로 설명드린 것처럼 테스트에 사용한 Qt 라이브러리의 버전은 사용하신 것과 동인한 5.9.6 버전입니다.
"/home01/t279ljk/install/vtk" 경로에 설치를 진행해 놓았습니다.

홈 디렉토리에 build.txt 라는 파일을 만들어 설치과정을 기록하였으니 확인해보시면 될것 같습니다.

감사합니다.

Q
Pilot [5호기] > 응용 S/W2018-08-09 17:36

이렇게 된다면 최종적으로 LIGGGHTS 설치 후 환경설정은



$ module add intel/18.0.3 impi/18.0.3
$ export PATH=/opt/gcc/7.2.0/snos/bin:/usr/bin:/home01/t279ljk/QTlibrary/bin:$PATH
$ export LD_LIBRARY_PATH=/opt/gcc/7.2.0/snos/lib64:/usr/lib64:/home01/t279ljk/QTlibrary/lib:$LD_LIBRARY_PATH

$ export LD_LIBRARY_PATH=/home01/t279ljk/install/vtk/lib:$LD_LIBRARY_PATH



이렇게까지하면 되나요?

A
서성원 / 사용자지원팀2018-08-09 17:47

안녕하십니까
사용자지원팀 입니다.

환경설정의 경우 라이브러리의 종류와 버전, 사용하시는 시스템에 따라 달라지게 됩니다.
LIGGGHTS 실행 시 해당 라이브러리가 설치에 필요했던 의존성 라이브러리들을 찾는 경우 아래와 같이 환경설정이 필요한 것으로 보여집니다.
[예시]
$ module add intel/18.0.3 impi/18.0.3
$ export PATH=/opt/gcc/7.2.0/snos/bin:/usr/bin:/home01/t279ljk/QTlibrary/bin:/home01/t279ljk/install/vtk/bin:$PATH
$ export LD_LIBRARY_PATH=/opt/gcc/7.2.0/snos/lib64:/usr/lib64:/home01/t279ljk/QTlibrary/lib:/home01/t279ljk/install/vtk/lib:$LD_LIBRARY_PATH

다만 위의 환경설정들은 설치에 사용된 환경설정이므로 LIGGGHTS 라이브러리 실행에 필요한 환경설정은 다를수도 있음을 알려드립니다.

감사합니다.

Q
Pilot [5호기] > 응용 S/W2018-08-09 18:14

거의 마지막 질문일 것 같습니다.



이제 LIGGGHTS 설치에 필요한 것을 다 완료하였는데,



LIGGGHTS의 설치를 위해 이전 4호기의 문서를 보면



LIGGGHTS의 src/MAKE/Makefile.mpi 에서



CCFLAGS = -O3 -fno-alias -restrict -ip -unroll0 -shared-intel

LINKFLAGS = -O -L/applic/compilers/intel/2015/mkl/lib/intel64

LIB = -lstdc++ -lpthread -lmkl_sequential -lmkl_intel_lp64 -lmkl_core

MPI_INC = -I/applic/compilers/intel/2015/mpi/mvapich2/2.1/include -DMPICH_SKIP_MPICXX -DOMPI_SKIP_MPICXX=1

MPI_LIB = -L/applic/compilers/intel/2015/mpi/mvapich2/2.1/lib

FFT_INC = -DFFT_MKL -I/applic/compilers/intel/2015/mkl/include/fftw

FFT_LIB = /applic/compilers/intel/2015/mkl/lib/intel64/libfftw2xc_double_intel.a



이것을 5호기의 설정대로 바꾸어야 할 것 같은데,



어떻게 바꾸어야 할지 잘 모르겠습니다.



VTK 에 관한건 위의 설치 경로대로 바꾸었으나, 나머지는 어디에 위치하는지 찾기가 어렵네요.



가르쳐 주시면 감사하겠습니다.



A
서성원 / 사용자지원팀2018-08-10 09:42

안녕하십니까
사용자지원팀 입니다.

라이브러리의 설치에 필요한 옵션은 라이브러리의 종류와 버전, 사용하시는 시스템에 따라 달라지기 때문에
사용자께서 설치를 진행 하시면서 찾으셔야 함을 양해바랍니다.

설치에 필요한 경로는 아래를 참고해주시기 바랍니다.
mkl 라이브러리 경로 : /cm/shared/apps/intel/compilers_and_libraries/2018.3.222/linux/mkl/lib/intel64
MPI 헤더파일 경로 : /cm/shared/apps/intel/compilers_and_libraries/2018.3.222/linux/mpi/include64
MPI 라이브러리 경로 : /cm/shared/apps/intel/compilers_and_libraries/2018.3.222/linux/mpi/lib64
FFT 헤더파일 경로 : /applic/compilers/mic-knl/intel/18.0.3/mpi/impi/18.0.3/applib2/fftw/3.3.7/include
FFT 라이브러리 경로 : /applic/compilers/mic-knl/intel/18.0.3/mpi/impi/18.0.3/applib2/fftw/3.3.8/lib

감사합니다.

Q
Pilot [5호기] > 응용 S/W2018-08-13 13:36

CCFLAGS =       -O3 -fno-alias -restrict -ip -unroll0 -shared-intel



LINKFLAGS =     -O -L/cm/shared/apps/intel/compilers_and_libraries/2018.3.222/linux/mkl/lib/intel64



LIB =           -lstdc++ -lpthread -lmkl_sequential -lmkl_intel_lp64 -lmkl_core



MPI_INC = -I/cm/shared/apps/intel/compilers_and_libraries/2018.3.222/linux/mpi/include64 -DMPICH_SKIP_MPICXX -DOMPI_SKIP_MPICXX=1
MPI_PATH =
MPI_LIB = -L/cm/shared/apps/intel/compilers_and_libraries/2018.3.222/linux/mpi/lib64



FFT_INC = -DFFT_MKL -I/applic/compilers/mic-knl/intel/18.0.3/mpi/impi/18.0.3/applib2/fftw/3.3.7/include
FFT_PATH =
FFT_LIB = -L/applic/compilers/mic-knl/intel/18.0.3/mpi/impi/18.0.3/applib2/fftw/3.3.7/lib



현재 이렇게 수정해서 make mpi 를 한 결과



맨위의 CCFLAGS가 잘못되어서 에러가 발생하네요.



g++: error: unrecognized command line option ??-fno-alias??
g++: error: unrecognized command line option ??-restrict??
g++: error: unrecognized command line option ??-ip??
g++: error: unrecognized command line option ??-shared-intel??



어떻게 고쳐야 할까요?

A
서성원 / 사용자지원팀2018-08-13 15:08

안녕하십니까
사용자지원팀 입니다.

CCFLAGS에 설정한 옵션이 현재 사용하시는 시스템, 환경설정과 맞지 않아 발생한 오류로 보여집니다.
오류가 발생한 옵션을 제거하신 이후 다시 작업을 수행해보시는 것을 권해드립니다.
[예시]
CCFLAGS = -O3 -unroll0

작업 수행전 make clean-all 명령어를 이용하여 오류가 발생한 설정을 초기화 해주신 이후 다시 make mpi 명령어를 수행하셔야 합니다.

감사합니다.

Q
Pilot [5호기] > 응용 S/W2018-08-13 15:44

네, 환경설정을 다시 제대로 한 후 해보니 바꾸어야 할 항목들이 나와서 바꿔서



제대로 설치 완료하였습니다.



감사합니다.

A
서성원 / 사용자지원팀2018-08-13 15:46

안녕하십니까
사용자지원팀 입니다.

make가 정상적으로 끝났다고 하셔서 문의를 완료처리 하도록 하겠습니다.

감사합니다.

국가슈퍼컴퓨팅센터
개인정보처리방침 이메일무단수집거부 찾아오시는길 모바일버전으로 보기
(34141) 대전광역시 유성구 대학로 245 한국과학기술정보연구원
Contact: account@ksc.re.kr    슈퍼컴퓨터 사용문의 : 080-041-1991

Copyright 2020 by the KISTI National Supercomputing Center. All Rights Reserved.
과학기술정보통신부 국가과학기술연구회 한국과학기술정보연구원
